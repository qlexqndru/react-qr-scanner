"use strict";(self.webpackChunk_qlexqndru_react_qr_scanner=self.webpackChunk_qlexqndru_react_qr_scanner||[]).push([[756],{"./node_modules/barcode-detector/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{vR:()=>Ri});var process=__webpack_require__("./node_modules/process/browser.js"),Xe=i=>{throw TypeError(i)},qe=(i,f,p)=>f.has(i)||Xe("Cannot "+p),Ze=(i,f,p)=>(qe(i,f,"read from private field"),p?p.call(i):f.get(i));const Lt=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Ut=Lt.map((([i])=>i)),Za=Ut.filter(((i,f)=>"L"===Lt[f][1])),Ya=Ut.filter(((i,f)=>"M"===Lt[f][1]));function re(i){switch(i){case"Linear-Codes":return Za.reduce(((f,p)=>f|re(p)),0);case"Matrix-Codes":return Ya.reduce(((f,p)=>f|re(p)),0);case"Any":return(1<<Lt.length)-1;case"None":return 0;default:return 1<<Ut.indexOf(i)}}function Qa(i){if(0===i)return"None";const f=31-Math.clz32(i);return Ut[f]}function Ja(i){return i.reduce(((f,p)=>f|re(p)),0)}const Ka=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function ti(i){return Ka.indexOf(i)}const Je=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function ei(i){return"UnicodeBig"===i?Je.indexOf("UTF16BE"):Je.indexOf(i)}const ri=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function ni(i){return ri[i]}const ai=["Ignore","Read","Require"];function ii(i){return ai.indexOf(i)}const oi=["Plain","ECI","HRI","Hex","Escaped"];function si(i){return oi.indexOf(i)}const Bt={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function Ke(i){return{...i,formats:Ja(i.formats),binarizer:ti(i.binarizer),eanAddOnSymbol:ii(i.eanAddOnSymbol),textMode:si(i.textMode),characterSet:ei(i.characterSet)}}function ui(i){return{...i,format:Qa(i.format),contentType:ni(i.contentType),eccLevel:i.ecLevel}}const ci={locateFile:(i,f)=>{const p=i.match(/_(.+?)\.wasm$/);return p?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.0.1/dist/${p[1]}/${i}`:f+i}},Rt=new WeakMap;function li(i,f){return Object.is(i,f)||Object.keys(i).length===Object.keys(f).length&&Object.keys(i).every((p=>Object.prototype.hasOwnProperty.call(f,p)&&i[p]===f[p]))}function er(i,{overrides:f,equalityFn:p=li,fireImmediately:T=!1}={}){var c;const[O,x]=null!=(c=Rt.get(i))?c:[ci],j=null!=f?f:O;let M;if(T){if(x&&(M=p(O,j)))return x;const L=i({...j});return Rt.set(i,[j,L]),L}(null!=M?M:p(O,j))||Rt.set(i,[j])}var i,f,ae=(f=typeof document<"u"&&"SCRIPT"===(null==(i=document.currentScript)?void 0:i.tagName.toUpperCase())?document.currentScript.src:void 0,function(p={}){var O,x,c=p,j=new Promise(((t,e)=>{O=t,x=e})),M="object"==typeof window,L=typeof Bun<"u",k=typeof WorkerGlobalScope<"u";"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process.type;var it,ot,st,Z=Object.assign({},c),tt="./this.program",R="";(M||k||L)&&(k?R=self.location.href:typeof document<"u"&&"SCRIPT"===(null===(st=document.currentScript)||void 0===st?void 0:st.tagName.toUpperCase())&&(R=document.currentScript.src),f&&(R=f),R=R.startsWith("blob:")?"":R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1),k&&(ot=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),it=async t=>{var e=await fetch(t,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw new Error(e.status+" : "+e.url)});var dr=c.print||console.log.bind(console),et=c.printErr||console.error.bind(console);Object.assign(c,Z),Z=null,c.arguments&&c.arguments,c.thisProgram&&(tt=c.thisProgram);var mt,H,B,ut,gt,rt,_,oe,se,vt=c.wasmBinary,ie=!1;function ue(){var t=mt.buffer;c.HEAP8=H=new Int8Array(t),c.HEAP16=ut=new Int16Array(t),c.HEAPU8=B=new Uint8Array(t),c.HEAPU16=gt=new Uint16Array(t),c.HEAP32=rt=new Int32Array(t),c.HEAPU32=_=new Uint32Array(t),c.HEAPF32=oe=new Float32Array(t),c.HEAPF64=se=new Float64Array(t)}var ce=[],le=[],fe=[],Y=0,ct=null;function Wt(t){var e;null===(e=c.onAbort)||void 0===e||e.call(c,t),et(t="Aborted("+t+")"),ie=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw x(r),r}var wt,de=t=>t.startsWith("data:application/octet-stream;base64,");function Cr(){var t="zxing_reader.wasm";return de(t)?t:function yt(t){return c.locateFile?c.locateFile(t,R):R+t}(t)}async function _r(t){if(!vt)try{var e=await it(t);return new Uint8Array(e)}catch{}return function Tr(t){if(t==wt&&vt)return new Uint8Array(vt);if(ot)return ot(t);throw"both async and sync fetching of the wasm failed"}(t)}async function Er(t,e,r){if(!t&&"function"==typeof WebAssembly.instantiateStreaming&&!de(e)&&"function"==typeof fetch)try{var n=fetch(e,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,r)}catch(o){et(`wasm streaming compile failed: ${o}`),et("falling back to ArrayBuffer instantiation")}return async function Pr(t,e){try{var r=await _r(t);return await WebAssembly.instantiate(r,e)}catch(a){et(`failed to asynchronously prepare wasm: ${a}`),Wt(a)}}(e,r)}var kt=t=>{for(;t.length>0;)t.shift()(c)};c.noExitRuntime;var m=t=>je(t),g=()=>Re(),$t=[],bt=0,V=0;class Ht{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){_[this.ptr+4>>2]=e}get_type(){return _[this.ptr+4>>2]}set_destructor(e){_[this.ptr+8>>2]=e}get_destructor(){return _[this.ptr+8>>2]}set_caught(e){e=e?1:0,H[this.ptr+12]=e}get_caught(){return 0!=H[this.ptr+12]}set_rethrown(e){e=e?1:0,H[this.ptr+13]=e}get_rethrown(){return 0!=H[this.ptr+13]}init(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)}set_adjusted_ptr(e){_[this.ptr+16>>2]=e}get_adjusted_ptr(){return _[this.ptr+16>>2]}}var Ct=t=>Ie(t),Vt=t=>{var e=V;if(!e)return Ct(0),0;var r=new Ht(e);r.set_adjusted_ptr(e);var n=r.get_type();if(!n)return Ct(0),e;for(var a of t){if(0===a||a===n)break;var o=r.ptr+16;if(Ue(a,n,o))return Ct(a),e}return Ct(n),e},Tt={},Nt=t=>{for(;t.length;){var e=t.pop();t.pop()(e)}};function lt(t){return this.fromWireType(_[t>>2])}var he,pe,at,nt={},Q={},_t={},Pt=t=>{throw new he(t)},J=(t,e,r)=>{function n(s){var l=r(s);l.length!==t.length&&Pt("Mismatched type converter count");for(var d=0;d<t.length;++d)W(t[d],l[d])}t.forEach((s=>_t[s]=e));var a=new Array(e.length),o=[],u=0;e.forEach(((s,l)=>{Q.hasOwnProperty(s)?a[l]=Q[s]:(o.push(s),nt.hasOwnProperty(s)||(nt[s]=[]),nt[s].push((()=>{a[l]=Q[s],++u===o.length&&n(a)})))})),0===o.length&&n(a)},F=t=>{for(var e="",r=t;B[r];)e+=pe[B[r++]];return e},b=t=>{throw new at(t)};function W(t,e){return function Hr(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.name;if(t||b(`type "${n}" must have a positive integer typeid pointer`),Q.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;b(`Cannot register type '${n}' twice`)}if(Q[t]=e,delete _t[t],nt.hasOwnProperty(t)){var a=nt[t];delete nt[t],a.forEach((o=>o()))}}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}var N=8,Nr=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),zt=t=>{b(function e(r){return r.$$.ptrType.registeredClass.name}(t)+" instance already deleted")},Gt=!1,ye=t=>{},ve=t=>{t.count.value-=1,0===t.count.value&&(t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)})(t)},me=(t,e,r)=>{if(e===r)return t;if(void 0===r.baseClass)return null;var n=me(t,e,r.baseClass);return null===n?null:r.downcast(n)},ge={},Gr={},qr=(t,e)=>(e=((t,e)=>{for(void 0===e&&b("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e})(t,e),Gr[e]),Et=(t,e)=>((!e.ptrType||!e.ptr)&&Pt("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&Pt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ft(Object.create(t,{$$:{value:e,writable:!0}})));function Zr(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=qr(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?Et(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):Et(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var s,o=this.registeredClass.getActualType(e),u=ge[o];if(!u)return a.call(this);s=this.isConst?u.constPointerType:u.pointerType;var l=me(e,this.registeredClass,s.registeredClass);return null===l?a.call(this):this.isSmartPointer?Et(s.registeredClass.instancePrototype,{ptrType:s,ptr:l,smartPtrType:this,smartPtr:t}):Et(s.registeredClass.instancePrototype,{ptrType:s,ptr:l})}var ft=t=>typeof FinalizationRegistry>"u"?(ft=e=>e,t):(Gt=new FinalizationRegistry((e=>{ve(e.$$)})),ft=e=>{var r=e.$$;if(r.smartPtr){var a={$$:r};Gt.register(e,a,e)}return e},ye=e=>Gt.unregister(e),ft(t));function Ot(){}var At=(t,e)=>Object.defineProperty(e,"name",{value:t}),we=(t,e,r)=>{if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return t[e].overloadTable.hasOwnProperty(o.length)||b(`Function '${r}' called with an invalid number of arguments (${o.length}) - expects one of (${t[e].overloadTable})!`),t[e].overloadTable[o.length].apply(this,o)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}},$e=(t,e,r)=>{c.hasOwnProperty(t)?((void 0===r||void 0!==c[t].overloadTable&&void 0!==c[t].overloadTable[r])&&b(`Cannot register public name '${t}' twice`),we(c,t,t),c[t].overloadTable.hasOwnProperty(r)&&b(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),c[t].overloadTable[r]=e):(c[t]=e,c[t].argCount=r)};function tn(t,e,r,n,a,o,u,s){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=u,this.downcast=s,this.pureVirtualFunctions=[]}var Xt=(t,e,r)=>{for(;e!==r;)e.upcast||b(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.upcast(t),e=e.baseClass;return t};function en(t,e){if(null===e)return this.isReference&&b(`null is not a valid ${this.name}`),0;e.$$||b(`Cannot pass "${Jt(e)}" as a ${this.name}`),e.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=e.$$.ptrType.registeredClass;return Xt(e.$$.ptr,r,this.registeredClass)}function rn(t,e){var r;if(null===e)return this.isReference&&b(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,r),r):0;(!e||!e.$$)&&b(`Cannot pass "${Jt(e)}" as a ${this.name}`),e.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&b(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(r=Xt(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&b("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:b(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var a=e.clone();r=this.rawShare(r,G.toHandle((()=>a.delete()))),null!==t&&t.push(this.rawDestructor,r)}break;default:b("Unsupporting sharing policy")}return r}function nn(t,e){if(null===e)return this.isReference&&b(`null is not a valid ${this.name}`),0;e.$$||b(`Cannot pass "${Jt(e)}" as a ${this.name}`),e.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&b(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass;return Xt(e.$$.ptr,r,this.registeredClass)}function St(t,e,r,n,a,o,u,s,l,d,h){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=u,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=d,this.rawDestructor=h,a||void 0!==e.baseClass?this.toWireType=rn:n?(this.toWireType=en,this.destructorFunction=null):(this.toWireType=nn,this.destructorFunction=null)}var Ce,Te,be=(t,e,r)=>{c.hasOwnProperty(t)||Pt("Replacing nonexistent public symbol"),void 0!==c[t].overloadTable&&void 0!==r?c[t].overloadTable[r]=e:(c[t]=e,c[t].argCount=r)},xt=[],w=t=>{var e=xt[t];return e||(t>=xt.length&&(xt.length=t+1),xt[t]=e=Ce.get(t)),e},sn=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.includes("j")?((t,e,r)=>(t=t.replace(/p/g,"i"),(0,c["dynCall_"+t])(e,...r)))(t,e,r):w(e)(...r)},U=(t,e)=>{t=F(t);var n=function r(){return t.includes("j")?((t,e)=>function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return sn(t,e,n)})(t,e):w(e)}();return"function"!=typeof n&&b(`unknown function pointer with signature ${t}: ${e}`),n},_e=t=>{var e=Me(t),r=F(e);return X(e),r},Dt=(t,e)=>{var r=[],n={};throw e.forEach((function a(o){if(!n[o]&&!Q[o]){if(_t[o])return void _t[o].forEach(a);r.push(o),n[o]=!0}})),new Te(`${t}: `+r.map(_e).join([", "]))},qt=(t,e)=>{for(var r=[],n=0;n<t;n++)r.push(_[e+4*n>>2]);return r};function Zt(t,e,r,n,a,o){var u=e.length;u<2&&b("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==e[1]&&null!==r,l=function fn(t){for(var e=1;e<t.length;++e)if(null!==t[e]&&void 0===t[e].destructorFunction)return!0;return!1}(e),d="void"!==e[0].name,h=u-2,y=new Array(h),$=[],C=[];return At(t,(function(){var D;C.length=0,$.length=s?2:1,$[0]=a,s&&(D=e[1].toWireType(C,this),$[1]=D);for(var A=0;A<h;++A)y[A]=e[A+2].toWireType(C,A<0||arguments.length<=A?void 0:arguments[A]),$.push(y[A]);return function K(I){if(l)Nt(C);else for(var q=s?1:2;q<e.length;q++){var Ft=1===q?D:y[q-2];null!==e[q].destructorFunction&&e[q].destructorFunction(Ft)}if(d)return e[0].fromWireType(I)}(n(...$))}))}var Pe=t=>{const e=(t=t.trim()).indexOf("(");return-1!==e?t.substr(0,e):t},Yt=[],z=[],Qt=t=>{t>9&&0==--z[t+1]&&(z[t]=void 0,Yt.push(t))},pn=()=>z.length/2-5-Yt.length,G={toValue:t=>(t||b("Cannot use deleted val. handle = "+t),z[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=Yt.pop()||z.length;return z[e]=t,z[e+1]=1,e}}}},Ee={name:"emscripten::val",fromWireType:t=>{var e=G.toValue(t);return Qt(t),e},toWireType:(t,e)=>G.toHandle(e),argPackAdvance:N,readValueFromPointer:lt,destructorFunction:null},Jt=t=>{if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t},mn=(t,e)=>{switch(e){case 4:return function(r){return this.fromWireType(oe[r>>2])};case 8:return function(r){return this.fromWireType(se[r>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},$n=(t,e,r)=>{switch(e){case 1:return r?n=>H[n]:n=>B[n];case 2:return r?n=>ut[n>>1]:n=>gt[n>>1];case 4:return r?n=>rt[n>>2]:n=>_[n>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Tn=Object.assign({optional:!0},Ee),dt=(t,e,r)=>((t,e,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,u=0;u<t.length;++u){var s=t.charCodeAt(u);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++u)),s<=127){if(r>=o)break;e[r++]=s}else if(s<=2047){if(r+1>=o)break;e[r++]=192|s>>6,e[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;e[r++]=224|s>>12,e[r++]=128|s>>6&63,e[r++]=128|63&s}else{if(r+3>=o)break;e[r++]=240|s>>18,e[r++]=128|s>>12&63,e[r++]=128|s>>6&63,e[r++]=128|63&s}}return e[r]=0,r-a})(t,B,e,r),Oe=typeof TextDecoder<"u"?new TextDecoder:void 0,Ae=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var n=e+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN),a=e;t[a]&&!(a>=n);)++a;if(a-e>16&&t.buffer&&Oe)return Oe.decode(t.subarray(e,a));for(var o="";e<a;){var u=t[e++];if(128&u){var s=63&t[e++];if(192!=(224&u)){var l=63&t[e++];if((u=224==(240&u)?(15&u)<<12|s<<6|l:(7&u)<<18|s<<12|l<<6|63&t[e++])<65536)o+=String.fromCharCode(u);else{var d=u-65536;o+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else o+=String.fromCharCode((31&u)<<6|s)}else o+=String.fromCharCode(u)}return o},On=(t,e)=>t?Ae(B,t,e):"",Se=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Sn=(t,e)=>{for(var r=t,n=r>>1,a=n+e/2;!(n>=a)&&gt[n];)++n;if((r=n<<1)-t>32&&Se)return Se.decode(B.subarray(t,r));for(var o="",u=0;!(u>=e/2);++u){var s=ut[t+2*u>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},xn=(t,e,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<2)return 0;for(var a=e,o=(r-=2)<2*t.length?r/2:t.length,u=0;u<o;++u){var s=t.charCodeAt(u);ut[e>>1]=s,e+=2}return ut[e>>1]=0,e-a},Dn=t=>2*t.length,Mn=(t,e)=>{for(var r=0,n="";!(r>=e/4);){var a=rt[t+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},Fn=(t,e,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<4)return 0;for(var a=e,o=a+r-4,u=0;u<t.length;++u){var s=t.charCodeAt(u);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++u)),rt[e>>2]=s,(e+=4)+4>o)break}return rt[e>>2]=0,e-a},In=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e},Kt=[],kn={},xe=()=>{if("object"==typeof globalThis)return globalThis;function t(e){e.$$$embind_global$$$=e;var r="object"==typeof $$$embind_global$$$&&e.$$$embind_global$$$==e;return r||delete e.$$$embind_global$$$,r}if("object"==typeof $$$embind_global$$$||("object"==typeof __webpack_require__.g&&t(__webpack_require__.g)?$$$embind_global$$$=__webpack_require__.g:"object"==typeof self&&t(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$))return $$$embind_global$$$;throw Error("unable to get global object.")},De=(t,e)=>{var r=Q[t];return void 0===r&&b(`${e} has unknown type ${_e(t)}`),r},Gn=Reflect.construct,ta=(t,e)=>Math.ceil(t/e)*e,ea=t=>{var r=(t-mt.buffer.byteLength+65535)/65536|0;try{return mt.grow(r),ue(),1}catch{}},te={},ht=()=>{if(!ht.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:tt||"./this.program"};for(var r in te)void 0===te[r]?delete e[r]:e[r]=te[r];var n=[];for(var r in e)n.push(`${r}=${e[r]}`);ht.strings=n}return ht.strings},ca=[null,[],[]],la=(t,e)=>{var r=ca[t];0===e||10===e?((1===t?dr:et)(Ae(r)),r.length=0):r.push(e)};he=c.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},(()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);pe=t})(),at=c.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Object.assign(Ot.prototype,{isAliasOf(t){if(!(this instanceof Ot&&t instanceof Ot))return!1;var e=this.$$.ptrType.registeredClass,r=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,a=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&r===a},clone(){if(this.$$.ptr||zt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=ft(Object.create(Object.getPrototypeOf(this),{$$:{value:Nr(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||zt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&b("Object already scheduled for deletion"),ye(this),ve(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||zt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&b("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}}),Object.assign(St.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var e;null===(e=this.rawDestructor)||void 0===e||e.call(this,t)},argPackAdvance:N,readValueFromPointer:lt,fromWireType:Zr}),Te=c.UnboundTypeError=((t,e)=>{var r=At(e,(function(n){this.name=e,this.message=n;var a=new Error(n).stack;void 0!==a&&(this.stack=this.toString()+"\n"+a.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},r})(Error,"UnboundTypeError"),z.push(0,1,void 0,1,null,1,!0,1,!1,1),c.count_emval_handles=pn;var E,ha={s:t=>{var e=new Ht(t);return e.get_caught()||(e.set_caught(!0),bt--),e.set_rethrown(!1),$t.push(e),Le(t),Fe(t)},w:()=>{v(0,0);var t=$t.pop();Be(t.excPtr),V=0},a:()=>Vt([]),j:t=>Vt([t]),l:(t,e)=>Vt([t,e]),M:()=>{var t=$t.pop();t||Wt("no exception to throw");var e=t.excPtr;throw t.get_rethrown()||($t.push(t),t.set_rethrown(!0),t.set_caught(!1),bt++),V=e},p:(t,e,r)=>{throw new Ht(t).init(e,r),bt++,V=t},ca:()=>bt,d:t=>{throw V||(V=t),V},Z:()=>Wt(""),sa:t=>{var e=Tt[t];delete Tt[t];var r=e.rawConstructor,n=e.rawDestructor,a=e.fields,o=a.map((u=>u.getterReturnType)).concat(a.map((u=>u.setterArgumentType)));J([t],o,(u=>{var s={};return a.forEach(((l,d)=>{var h=l.fieldName,y=u[d],$=l.getter,C=l.getterContext,P=u[d+a.length],D=l.setter,A=l.setterContext;s[h]={read:S=>y.fromWireType($(C,S)),write:(S,K)=>{var I=[];D(A,S,P.toWireType(I,K)),Nt(I)}}})),[{name:e.name,fromWireType:l=>{var d={};for(var h in s)d[h]=s[h].read(l);return n(l),d},toWireType:(l,d)=>{for(var h in s)if(!(h in d))throw new TypeError(`Missing field: "${h}"`);var y=r();for(h in s)s[h].write(y,d[h]);return null!==l&&l.push(n,y),y},argPackAdvance:N,readValueFromPointer:lt,destructorFunction:n}]}))},Y:(t,e,r,n,a)=>{},na:(t,e,r,n)=>{W(t,{name:e=F(e),fromWireType:function(a){return!!a},toWireType:function(a,o){return o?r:n},argPackAdvance:N,readValueFromPointer:function(a){return this.fromWireType(B[a])},destructorFunction:null})},qa:(t,e,r,n,a,o,u,s,l,d,h,y,$)=>{h=F(h),o=U(a,o),s&&(s=U(u,s)),d&&(d=U(l,d)),$=U(y,$);var C=(t=>{var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?`_${t}`:t})(h);$e(C,(function(){Dt(`Cannot construct ${h} due to unbound types`,[n])})),J([t,e,r],n?[n]:[],(P=>{var D,A;P=P[0],A=n?(D=P.registeredClass).instancePrototype:Ot.prototype;var S=At(h,(function(){if(Object.getPrototypeOf(this)!==K)throw new at("Use 'new' to construct "+h);if(void 0===I.constructor_body)throw new at(h+" has no accessible constructor");for(var ze=arguments.length,It=new Array(ze),jt=0;jt<ze;jt++)It[jt]=arguments[jt];var Ge=I.constructor_body[It.length];if(void 0===Ge)throw new at(`Tried to invoke ctor of ${h} with invalid number of parameters (${It.length}) - expected (${Object.keys(I.constructor_body).toString()}) parameters instead!`);return Ge.apply(this,It)})),K=Object.create(A,{constructor:{value:S}});S.prototype=K;var q,Ft,I=new tn(h,S,K,$,D,o,s,d);I.baseClass&&(null!==(Ft=(q=I.baseClass).__derivedClasses)&&void 0!==Ft||(q.__derivedClasses=[]),I.baseClass.__derivedClasses.push(I));var qa=new St(h,I,!0,!1,!1),Ve=new St(h+"*",I,!1,!1,!1),Ne=new St(h+" const*",I,!1,!0,!1);return ge[t]={pointerType:Ve,constPointerType:Ne},be(C,S),[qa,Ve,Ne]}))},pa:(t,e,r,n,a,o)=>{var u=qt(e,r);a=U(n,a),J([],[t],(s=>{var l=`constructor ${(s=s[0]).name}`;if(void 0===s.registeredClass.constructor_body&&(s.registeredClass.constructor_body=[]),void 0!==s.registeredClass.constructor_body[e-1])throw new at(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[e-1]=()=>{Dt(`Cannot construct ${s.name} due to unbound types`,u)},J([],u,(d=>(d.splice(1,0,null),s.registeredClass.constructor_body[e-1]=Zt(l,d,null,a,o),[]))),[]}))},D:(t,e,r,n,a,o,u,s,l,d)=>{var h=qt(r,n);e=F(e),e=Pe(e),o=U(a,o),J([],[t],(y=>{var $=`${(y=y[0]).name}.${e}`;function C(){Dt(`Cannot call ${$} due to unbound types`,h)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&y.registeredClass.pureVirtualFunctions.push(e);var P=y.registeredClass.instancePrototype,D=P[e];return void 0===D||void 0===D.overloadTable&&D.className!==y.name&&D.argCount===r-2?(C.argCount=r-2,C.className=y.name,P[e]=C):(we(P,e,$),P[e].overloadTable[r-2]=C),J([],h,(A=>{var S=Zt($,A,y,o,u);return void 0===P[e].overloadTable?(S.argCount=r-2,P[e]=S):P[e].overloadTable[r-2]=S,[]})),[]}))},la:t=>W(t,Ee),Q:(t,e,r)=>{W(t,{name:e=F(e),fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:N,readValueFromPointer:mn(e,r),destructorFunction:null})},R:(t,e,r,n,a,o,u,s)=>{var l=qt(e,r);t=F(t),t=Pe(t),a=U(n,a),$e(t,(function(){Dt(`Cannot call ${t} due to unbound types`,l)}),e-1),J([],l,(d=>{var h=[d[0],null].concat(d.slice(1));return be(t,Zt(t,h,null,a,o),e-1),[]}))},x:(t,e,r,n,a)=>{e=F(e);var o=h=>h;if(0===n){var u=32-8*r;o=h=>h<<u>>>u}var s=e.includes("unsigned");W(t,{name:e,fromWireType:o,toWireType:s?function(h,y){return this.name,y>>>0}:function(h,y){return this.name,y},argPackAdvance:N,readValueFromPointer:$n(e,r,0!==n),destructorFunction:null})},t:(t,e,r)=>{var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(u){var s=_[u>>2],l=_[u+4>>2];return new a(H.buffer,l,s)}W(t,{name:r=F(r),fromWireType:o,argPackAdvance:N,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},ra:(t,e)=>{W(t,Tn)},ma:(t,e)=>{W(t,{name:e=F(e),fromWireType(r){for(var o,n=_[r>>2],a=r+4,u=a,s=0;s<=n;++s){var l=a+s;if(s==n||0==B[l]){var h=On(u,l-u);void 0===o?o=h:(o+="\0",o+=h),u=l+1}}return X(r),o},toWireType(r,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var a,o="string"==typeof n;o||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||b("Cannot pass non-string to std::string"),a=o?(t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e})(n):n.length;var u=ee(4+a+1),s=u+4;if(_[u>>2]=a,o)dt(n,s,a+1);else if(o)for(var l=0;l<a;++l){var d=n.charCodeAt(l);d>255&&(X(s),b("String has UTF-16 code units that do not fit in 8 bits")),B[s+l]=d}else for(l=0;l<a;++l)B[s+l]=n[l];return null!==r&&r.push(X,u),u},argPackAdvance:N,readValueFromPointer:lt,destructorFunction(r){X(r)}})},N:(t,e,r)=>{var n,a,o,u;r=F(r),2===e?(n=Sn,a=xn,u=Dn,o=s=>gt[s>>1]):4===e&&(n=Mn,a=Fn,u=In,o=s=>_[s>>2]),W(t,{name:r,fromWireType:s=>{for(var d,l=_[s>>2],h=s+4,y=0;y<=l;++y){var $=s+4+y*e;if(y==l||0==o($)){var P=n(h,$-h);void 0===d?d=P:(d+="\0",d+=P),h=$+e}}return X(s),d},toWireType:(s,l)=>{"string"!=typeof l&&b(`Cannot pass non-string to C++ string type ${r}`);var d=u(l),h=ee(4+d+e);return _[h>>2]=d/e,a(l,h+4,d+e),null!==s&&s.push(X,h),h},argPackAdvance:N,readValueFromPointer:lt,destructorFunction(s){X(s)}})},J:(t,e,r,n,a,o)=>{Tt[t]={name:F(e),rawConstructor:U(r,n),rawDestructor:U(a,o),fields:[]}},ta:(t,e,r,n,a,o,u,s,l,d)=>{Tt[t].fields.push({fieldName:F(e),getterReturnType:r,getter:U(n,a),getterContext:o,setterArgumentType:u,setter:U(s,l),setterContext:d})},oa:(t,e)=>{W(t,{isVoid:!0,name:e=F(e),argPackAdvance:0,fromWireType:()=>{},toWireType:(r,n)=>{}})},fa:(t,e,r)=>B.copyWithin(t,e,e+r),U:(t,e,r,n)=>(t=Kt[t])(null,e=G.toValue(e),r,n),ua:Qt,wa:t=>0===t?G.toHandle(xe()):(t=(t=>{var e=kn[t];return void 0===e?F(t):e})(t),G.toHandle(xe()[t])),_:(t,e,r)=>{var n=((t,e)=>{for(var r=new Array(t),n=0;n<t;++n)r[n]=De(_[e+4*n>>2],"parameter "+n);return r})(t,e),a=n.shift();t--;var o=new Array(t),s=`methodCaller<(${n.map((l=>l.name)).join(", ")}) => ${a.name}>`;return(t=>{var e=Kt.length;return Kt.push(t),e})(At(s,((l,d,h,y)=>{for(var $=0,C=0;C<t;++C)o[C]=n[C].readValueFromPointer(y+$),$+=n[C].argPackAdvance;var P=1===r?Gn(d,o):d.apply(l,o);return((t,e,r)=>{var n=[],a=t.toWireType(n,r);return n.length&&(_[e>>2]=G.toHandle(n)),a})(a,h,P)})))},S:t=>{t>9&&(z[t+1]+=1)},va:t=>{var e=G.toValue(t);Nt(e),Qt(t)},ka:(t,e)=>{var r=(t=De(t,"_emval_take_value")).readValueFromPointer(e);return G.toHandle(r)},$:(t,e,r,n)=>{var a=(new Date).getFullYear(),o=new Date(a,0,1),u=new Date(a,6,1),s=o.getTimezoneOffset(),l=u.getTimezoneOffset(),d=Math.max(s,l);_[t>>2]=60*d,rt[e>>2]=+(s!=l);var h=C=>{var P=C>=0?"-":"+",D=Math.abs(C);return`UTC${P}${String(Math.floor(D/60)).padStart(2,"0")}${String(D%60).padStart(2,"0")}`},y=h(s),$=h(l);l<s?(dt(y,r,17),dt($,n,17)):(dt(y,n,17),dt($,r,17))},da:t=>{var e=B.length,r=2147483648;if((t>>>=0)>r)return!1;for(var n=1;n<=4;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var o=Math.min(r,ta(Math.max(t,a),65536));if(ea(o))return!0}return!1},aa:(t,e)=>{var r=0;return ht().forEach(((n,a)=>{var o=e+r;_[t+4*a>>2]=o,((t,e)=>{for(var r=0;r<t.length;++r)H[e++]=t.charCodeAt(r);H[e]=0})(n,o),r+=n.length+1})),0},ba:(t,e)=>{var r=ht();_[t>>2]=r.length;var n=0;return r.forEach((a=>n+=a.length+1)),_[e>>2]=n,0},ea:t=>52,W:function ua(t,e,r,n,a){return 70},P:(t,e,r,n)=>{for(var a=0,o=0;o<r;o++){var u=_[e>>2],s=_[e+4>>2];e+=8;for(var l=0;l<s;l++)la(t,B[u+l]);a+=s}return _[n>>2]=a,0},H:function Ia(t,e,r,n){var a=g();try{return w(t)(e,r,n)}catch(o){if(m(a),o!==o+0)throw o;v(1,0)}},B:function Ra(t,e,r,n,a,o){var u=g();try{return w(t)(e,r,n,a,o)}catch(s){if(m(u),s!==s+0)throw s;v(1,0)}},T:function wa(t,e,r,n,a){var o=g();try{return w(t)(e,r,n,a)}catch(u){if(m(o),u!==u+0)throw u;v(1,0)}},O:function Va(t,e,r,n){var a=g();try{return w(t)(e,r,n)}catch(o){if(m(a),o!==o+0)throw o;v(1,0)}},q:function xa(t){var e=g();try{return w(t)()}catch(r){if(m(e),r!==r+0)throw r;v(1,0)}},b:function ya(t,e){var r=g();try{return w(t)(e)}catch(n){if(m(r),n!==n+0)throw n;v(1,0)}},C:function Fa(t,e,r,n){var a=g();try{return w(t)(e,r,n)}catch(o){if(m(a),o!==o+0)throw o;v(1,0)}},ha:function La(t,e,r){var n=g();try{return w(t)(e,r)}catch(a){if(m(n),a!==a+0)throw a;v(1,0)}},c:function ma(t,e,r){var n=g();try{return w(t)(e,r)}catch(a){if(m(n),a!==a+0)throw a;v(1,0)}},ga:function Ua(t,e,r,n,a){var o=g();try{return w(t)(e,r,n,a)}catch(u){if(m(o),u!==u+0)throw u;v(1,0)}},h:function ga(t,e,r,n){var a=g();try{return w(t)(e,r,n)}catch(o){if(m(a),o!==o+0)throw o;v(1,0)}},i:function _a(t,e,r,n,a){var o=g();try{return w(t)(e,r,n,a)}catch(u){if(m(o),u!==u+0)throw u;v(1,0)}},r:function Pa(t,e,r,n,a,o){var u=g();try{return w(t)(e,r,n,a,o)}catch(s){if(m(u),s!==s+0)throw s;v(1,0)}},L:function Ma(t,e,r,n,a,o,u){var s=g();try{return w(t)(e,r,n,a,o,u)}catch(l){if(m(s),l!==l+0)throw l;v(1,0)}},v:function Oa(t,e,r,n,a,o,u){var s=g();try{return w(t)(e,r,n,a,o,u)}catch(l){if(m(s),l!==l+0)throw l;v(1,0)}},G:function ka(t,e,r,n,a,o,u,s){var l=g();try{return w(t)(e,r,n,a,o,u,s)}catch(d){if(m(l),d!==d+0)throw d;v(1,0)}},I:function Da(t,e,r,n,a,o,u,s,l){var d=g();try{return w(t)(e,r,n,a,o,u,s,l)}catch(h){if(m(d),h!==h+0)throw h;v(1,0)}},z:function Ba(t,e,r,n,a,o,u,s,l,d){var h=g();try{return w(t)(e,r,n,a,o,u,s,l,d)}catch(y){if(m(h),y!==y+0)throw y;v(1,0)}},F:function Na(t,e,r,n,a,o,u,s,l,d,h,y){var $=g();try{return w(t)(e,r,n,a,o,u,s,l,d,h,y)}catch(C){if(m($),C!==C+0)throw C;v(1,0)}},X:function Ga(t,e,r,n){var a=g();try{return We(t,e,r,n)}catch(o){if(m(a),o!==o+0)throw o;v(1,0)}},V:function Xa(t,e,r,n,a){var o=g();try{return ke(t,e,r,n,a)}catch(u){if(m(o),u!==u+0)throw u;v(1,0)}},k:function ba(t){var e=g();try{w(t)()}catch(r){if(m(e),r!==r+0)throw r;v(1,0)}},f:function $a(t,e){var r=g();try{w(t)(e)}catch(n){if(m(r),n!==n+0)throw n;v(1,0)}},e:function va(t,e,r){var n=g();try{w(t)(e,r)}catch(a){if(m(n),a!==a+0)throw a;v(1,0)}},g:function pa(t,e,r,n){var a=g();try{w(t)(e,r,n)}catch(o){if(m(a),o!==o+0)throw o;v(1,0)}},K:function Ha(t,e,r,n,a,o,u){var s=g();try{w(t)(e,r,n,a,o,u)}catch(l){if(m(s),l!==l+0)throw l;v(1,0)}},m:function Ta(t,e,r,n,a){var o=g();try{w(t)(e,r,n,a)}catch(u){if(m(o),u!==u+0)throw u;v(1,0)}},ia:function ja(t,e,r,n,a,o,u,s){var l=g();try{w(t)(e,r,n,a,o,u,s)}catch(d){if(m(l),d!==d+0)throw d;v(1,0)}},o:function Ea(t,e,r,n,a,o){var u=g();try{w(t)(e,r,n,a,o)}catch(s){if(m(u),s!==s+0)throw s;v(1,0)}},u:function Aa(t,e,r,n,a,o,u,s){var l=g();try{w(t)(e,r,n,a,o,u,s)}catch(d){if(m(l),d!==d+0)throw d;v(1,0)}},ja:function Sa(t,e,r,n,a,o,u,s,l){var d=g();try{w(t)(e,r,n,a,o,u,s,l)}catch(h){if(m(d),h!==h+0)throw h;v(1,0)}},A:function Wa(t,e,r,n,a,o,u,s,l,d){var h=g();try{w(t)(e,r,n,a,o,u,s,l,d)}catch(y){if(m(h),y!==y+0)throw y;v(1,0)}},n:function Ca(t,e,r,n,a,o,u,s,l,d,h){var y=g();try{w(t)(e,r,n,a,o,u,s,l,d,h)}catch($){if(m(y),$!==$+0)throw $;v(1,0)}},E:function za(t,e,r,n,a,o,u,s,l,d,h,y,$,C,P,D){var A=g();try{w(t)(e,r,n,a,o,u,s,l,d,h,y,$,C,P,D)}catch(S){if(m(A),S!==S+0)throw S;v(1,0)}},y:t=>t};!async function Ar(){var t;function e(o,u){return E=o.exports,mt=E.xa,ue(),Ce=E.Ba,function mr(t){le.unshift(t)}(E.ya),function $r(t){var e;if(Y--,null===(e=c.monitorRunDependencies)||void 0===e||e.call(c,Y),0==Y&&ct){var r=ct;ct=null,r()}}(),E}!function wr(t){var e;Y++,null===(e=c.monitorRunDependencies)||void 0===e||e.call(c,Y)}();var n=function Or(){return{a:ha}}();if(c.instantiateWasm)try{return c.instantiateWasm(n,e)}catch(o){et(`Module.instantiateWasm callback failed with error: ${o}`),x(o)}null!==(t=wt)&&void 0!==t||(wt=Cr());try{var a=await Er(vt,wt,n);return function r(o){e(o.instance)}(a),a}catch(o){return void x(o)}}();var Me=t=>(Me=E.za)(t),X=c._free=t=>(X=c._free=E.Aa)(t),ee=c._malloc=t=>(ee=c._malloc=E.Ca)(t),Fe=t=>(Fe=E.Da)(t),v=(t,e)=>(v=E.Ea)(t,e),Ie=t=>(Ie=E.Fa)(t),je=t=>(je=E.Ga)(t),Re=()=>(Re=E.Ha)(),Be=t=>(Be=E.Ia)(t),Le=t=>(Le=E.Ja)(t),Ue=(t,e,r)=>(Ue=E.Ka)(t,e,r);c.dynCall_viijii=(t,e,r,n,a,o,u)=>(c.dynCall_viijii=E.La)(t,e,r,n,a,o,u);var We=c.dynCall_jiii=(t,e,r,n)=>(We=c.dynCall_jiii=E.Ma)(t,e,r,n);c.dynCall_jiji=(t,e,r,n,a)=>(c.dynCall_jiji=E.Na)(t,e,r,n,a);var Mt,ke=c.dynCall_jiiii=(t,e,r,n,a)=>(ke=c.dynCall_jiiii=E.Oa)(t,e,r,n,a);function He(){function t(){var e;Mt||(Mt=!0,c.calledRun=!0,!ie&&(function pr(){kt(le)}(),O(c),null===(e=c.onRuntimeInitialized)||void 0===e||e.call(c),function yr(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)t=c.postRun.shift(),fe.unshift(t);var t;kt(fe)}()))}Y>0||(function hr(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)t=c.preRun.shift(),ce.unshift(t);var t;kt(ce)}(),Y>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>c.setStatus("")),1),t()}),1)):t())}if(c.dynCall_iiiiij=(t,e,r,n,a,o,u)=>(c.dynCall_iiiiij=E.Pa)(t,e,r,n,a,o,u),c.dynCall_iiiiijj=(t,e,r,n,a,o,u,s,l)=>(c.dynCall_iiiiijj=E.Qa)(t,e,r,n,a,o,u,s,l),c.dynCall_iiiiiijj=(t,e,r,n,a,o,u,s,l,d)=>(c.dynCall_iiiiiijj=E.Ra)(t,e,r,n,a,o,u,s,l,d),ct=function t(){Mt||He(),Mt||(ct=t)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return He(),j});function rr(i){return er(ae,i)}async function hi(i,f){return async function di(i,f,p=Bt){const T={...Bt,...p},c=await er(i,{fireImmediately:!0});let O,x;if("size"in f){const{size:M}=f,L=new Uint8Array(await f.arrayBuffer());x=c._malloc(M),c.HEAPU8.set(L,x),O=c.readBarcodesFromImage(x,M,Ke(T))}else{const{data:M,data:{byteLength:L},width:k,height:Z}=f;x=c._malloc(L),c.HEAPU8.set(M,x),O=c.readBarcodesFromPixmap(x,k,Z,Ke(T))}c._free(x);const j=[];for(let M=0;M<O.size();++M)j.push(ui(O.get(M)));return j}(ae,i,f)}const nr=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],pi=[...nr,["unknown"]].map((i=>i[0])),ne=new Map(nr);function yi(i){for(const[f,p]of ne)if(i===p)return f;return"unknown"}function ar(i){var f,p;try{return i instanceof(null==(p=null==(f=null==i?void 0:i.ownerDocument)?void 0:f.defaultView)?void 0:p.HTMLImageElement)}catch{return!1}}function ir(i){var f,p;try{return i instanceof(null==(p=null==(f=null==i?void 0:i.ownerDocument)?void 0:f.defaultView)?void 0:p.SVGImageElement)}catch{return!1}}function or(i){var f,p;try{return i instanceof(null==(p=null==(f=null==i?void 0:i.ownerDocument)?void 0:f.defaultView)?void 0:p.HTMLVideoElement)}catch{return!1}}function sr(i){var f,p;try{return i instanceof(null==(p=null==(f=null==i?void 0:i.ownerDocument)?void 0:f.defaultView)?void 0:p.HTMLCanvasElement)}catch{return!1}}function ur(i){try{return i instanceof ImageBitmap||"[object ImageBitmap]"===Object.prototype.toString.call(i)}catch{return!1}}function cr(i){try{return i instanceof OffscreenCanvas||"[object OffscreenCanvas]"===Object.prototype.toString.call(i)}catch{return!1}}function lr(i){try{return i instanceof VideoFrame||"[object VideoFrame]"===Object.prototype.toString.call(i)}catch{return!1}}async function fr(i){if(ar(i)&&!await async function Ti(i){try{return await i.decode(),!0}catch{return!1}}(i))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(ir(i)&&!await async function _i(i){var f;try{return await(null==(f=i.decode)?void 0:f.call(i)),!0}catch{return!1}}(i))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(lr(i)&&function Pi(i){return null===i.format}(i))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(or(i)&&(0===i.readyState||1===i.readyState))throw new DOMException("Invalid element or state.","InvalidStateError");if(ur(i)&&function Oi(i){return 0===i.width&&0===i.height}(i))throw new DOMException("The image source is detached.","InvalidStateError");const{width:f,height:p}=function vi(i){if(ar(i))return{width:i.naturalWidth,height:i.naturalHeight};if(ir(i))return{width:i.width.baseVal.value,height:i.height.baseVal.value};if(or(i))return{width:i.videoWidth,height:i.videoHeight};if(ur(i))return{width:i.width,height:i.height};if(lr(i))return{width:i.displayWidth,height:i.displayHeight};if(sr(i))return{width:i.width,height:i.height};if(cr(i))return{width:i.width,height:i.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}(i);if(0===f||0===p)return null;const c=function wi(i,f){try{const p=new OffscreenCanvas(i,f);if(p.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return p;throw void 0}catch{const p=document.createElement("canvas");return p.width=i,p.height=f,p}}(f,p).getContext("2d");c.drawImage(i,0,0);try{return c.getImageData(0,0,f,p)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Ci(i){if(function mi(i){try{return i instanceof Blob||"[object Blob]"===Object.prototype.toString.call(i)}catch{return!1}}(i))return await async function $i(i){let f;try{f=await createImageBitmap(i)}catch{try{if(!globalThis.Image)return i;{f=new Image;let c="";try{c=URL.createObjectURL(i),f.src=c,await f.decode()}finally{URL.revokeObjectURL(c)}}}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await fr(f)}(i);if(function gi(i){try{return i instanceof ImageData||"[object ImageData]"===Object.prototype.toString.call(i)}catch{return!1}}(i)){if(function Ei(i){return 0===i.data.buffer.byteLength}(i))throw new DOMException("The image data has been detached.","InvalidStateError");return i}return sr(i)||cr(i)?function bi(i){const{width:f,height:p}=i;if(0===f||0===p)return null;const T=i.getContext("2d");try{return T.getImageData(0,0,f,p)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}(i):await fr(i)}function tr(i,f){return function Ai(i){return i instanceof DOMException||"[object DOMException]"===Object.prototype.toString.call(i)}(i)?new DOMException(`${f}: ${i.message}`,i.name):function Si(i){return i instanceof Error||"[object Error]"===Object.prototype.toString.call(i)}(i)?new i.constructor(`${f}: ${i.message}`):new Error(`${f}: ${i}`)}var pt;class Ri{constructor(f={}){var p;((i,f,p)=>{f.has(i)?Xe("Cannot add the same private member more than once"):f instanceof WeakSet?f.add(i):f.set(i,p)})(this,pt);try{const T=null==(p=null==f?void 0:f.formats)?void 0:p.filter((c=>"unknown"!==c));if(0===(null==T?void 0:T.length))throw new TypeError("Hint option provided, but is empty.");for(const c of null!=T?T:[])if(!ne.has(c))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${c}' is not a valid enum value of type BarcodeFormat.`);((i,f,p,T)=>{qe(i,f,"write to private field"),T?T.call(i,p):f.set(i,p)})(this,pt,null!=T?T:[]),rr({fireImmediately:!0}).catch((()=>{}))}catch(T){throw tr(T,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return pi.filter((f=>"unknown"!==f))}async detect(f){try{const p=await Ci(f);if(null===p)return[];let T;const c={tryCode39ExtendedMode:!1,textMode:"Plain",formats:Ze(this,pt).map((O=>ne.get(O)))};try{T=await hi(p,c)}catch(O){throw console.error(O),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return T.map((O=>{const{topLeft:{x,y:j},topRight:{x:M,y:L},bottomLeft:{x:k,y:Z},bottomRight:{x:tt,y:R}}=O.position,yt=Math.min(x,M,k,tt),it=Math.min(j,L,Z,R),ot=Math.max(x,M,k,tt),st=Math.max(j,L,Z,R);return{boundingBox:new DOMRectReadOnly(yt,it,ot-yt,st-it),rawValue:O.text,format:yi(O.format),cornerPoints:[{x,y:j},{x:M,y:L},{x:tt,y:R},{x:k,y:Z}]}}))}catch(p){throw tr(p,"Failed to execute 'detect' on 'BarcodeDetector'")}}}pt=new WeakMap,null!=globalThis.BarcodeDetector||(globalThis.BarcodeDetector=Ri)},"./node_modules/webrtc-adapter/dist/chrome/getusermedia.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}exports.Z=function shimGetUserMedia(window,browserDetails){var navigator=window&&window.navigator;if(!navigator.mediaDevices)return;var constraintsToChrome_=function constraintsToChrome_(c){if("object"!==_typeof(c)||c.mandatory||c.optional)return c;var cc={};return Object.keys(c).forEach((function(key){if("require"!==key&&"advanced"!==key&&"mediaSource"!==key){var r="object"===_typeof(c[key])?c[key]:{ideal:c[key]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var oldname_=function oldname_(prefix,name){return prefix?prefix+name.charAt(0).toUpperCase()+name.slice(1):"deviceId"===name?"sourceId":name};if(void 0!==r.ideal){cc.optional=cc.optional||[];var oc={};"number"==typeof r.ideal?(oc[oldname_("min",key)]=r.ideal,cc.optional.push(oc),(oc={})[oldname_("max",key)]=r.ideal,cc.optional.push(oc)):(oc[oldname_("",key)]=r.ideal,cc.optional.push(oc))}void 0!==r.exact&&"number"!=typeof r.exact?(cc.mandatory=cc.mandatory||{},cc.mandatory[oldname_("",key)]=r.exact):["min","max"].forEach((function(mix){void 0!==r[mix]&&(cc.mandatory=cc.mandatory||{},cc.mandatory[oldname_(mix,key)]=r[mix])}))}})),c.advanced&&(cc.optional=(cc.optional||[]).concat(c.advanced)),cc},shimConstraints_=function shimConstraints_(constraints,func){if(browserDetails.version>=61)return func(constraints);if((constraints=JSON.parse(JSON.stringify(constraints)))&&"object"===_typeof(constraints.audio)){var remap=function remap(obj,a,b){a in obj&&!(b in obj)&&(obj[b]=obj[a],delete obj[a])};remap((constraints=JSON.parse(JSON.stringify(constraints))).audio,"autoGainControl","googAutoGainControl"),remap(constraints.audio,"noiseSuppression","googNoiseSuppression"),constraints.audio=constraintsToChrome_(constraints.audio)}if(constraints&&"object"===_typeof(constraints.video)){var face=constraints.video.facingMode;face=face&&("object"===_typeof(face)?face:{ideal:face});var matches,getSupportedFacingModeLies=browserDetails.version<66;if(face&&("user"===face.exact||"environment"===face.exact||"user"===face.ideal||"environment"===face.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode||getSupportedFacingModeLies))if(delete constraints.video.facingMode,"environment"===face.exact||"environment"===face.ideal?matches=["back","rear"]:"user"!==face.exact&&"user"!==face.ideal||(matches=["front"]),matches)return navigator.mediaDevices.enumerateDevices().then((function(devices){var dev=(devices=devices.filter((function(d){return"videoinput"===d.kind}))).find((function(d){return matches.some((function(match){return d.label.toLowerCase().includes(match)}))}));return!dev&&devices.length&&matches.includes("back")&&(dev=devices[devices.length-1]),dev&&(constraints.video.deviceId=face.exact?{exact:dev.deviceId}:{ideal:dev.deviceId}),constraints.video=constraintsToChrome_(constraints.video),logging("chrome: "+JSON.stringify(constraints)),func(constraints)}));constraints.video=constraintsToChrome_(constraints.video)}return logging("chrome: "+JSON.stringify(constraints)),func(constraints)},shimError_=function shimError_(e){return browserDetails.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function toString(){return this.name+(this.message&&": ")+this.message}}};if(navigator.getUserMedia=function getUserMedia_(constraints,onSuccess,onError){shimConstraints_(constraints,(function(c){navigator.webkitGetUserMedia(c,onSuccess,(function(e){onError&&onError(shimError_(e))}))}))}.bind(navigator),navigator.mediaDevices.getUserMedia){var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(cs){return shimConstraints_(cs,(function(c){return origGetUserMedia(c).then((function(stream){if(c.audio&&!stream.getAudioTracks().length||c.video&&!stream.getVideoTracks().length)throw stream.getTracks().forEach((function(track){track.stop()})),new DOMException("","NotFoundError");return stream}),(function(e){return Promise.reject(shimError_(e))}))}))}}};var logging=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/webrtc-adapter/dist/utils.js")).log},"./node_modules/webrtc-adapter/dist/firefox/getusermedia.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.Z=function shimGetUserMedia(window,browserDetails){var navigator=window&&window.navigator,MediaStreamTrack=window&&window.MediaStreamTrack;if(navigator.getUserMedia=function(constraints,onSuccess,onError){utils.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(constraints).then(onSuccess,onError)},!(browserDetails.version>55&&"autoGainControl"in navigator.mediaDevices.getSupportedConstraints())){var remap=function remap(obj,a,b){a in obj&&!(b in obj)&&(obj[b]=obj[a],delete obj[a])},nativeGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);if(navigator.mediaDevices.getUserMedia=function(c){return"object"===_typeof(c)&&"object"===_typeof(c.audio)&&(c=JSON.parse(JSON.stringify(c)),remap(c.audio,"autoGainControl","mozAutoGainControl"),remap(c.audio,"noiseSuppression","mozNoiseSuppression")),nativeGetUserMedia(c)},MediaStreamTrack&&MediaStreamTrack.prototype.getSettings){var nativeGetSettings=MediaStreamTrack.prototype.getSettings;MediaStreamTrack.prototype.getSettings=function(){var obj=nativeGetSettings.apply(this,arguments);return remap(obj,"mozAutoGainControl","autoGainControl"),remap(obj,"mozNoiseSuppression","noiseSuppression"),obj}}if(MediaStreamTrack&&MediaStreamTrack.prototype.applyConstraints){var nativeApplyConstraints=MediaStreamTrack.prototype.applyConstraints;MediaStreamTrack.prototype.applyConstraints=function(c){return"audio"===this.kind&&"object"===_typeof(c)&&(c=JSON.parse(JSON.stringify(c)),remap(c,"autoGainControl","mozAutoGainControl"),remap(c,"noiseSuppression","mozNoiseSuppression")),nativeApplyConstraints.apply(this,[c])}}}};var utils=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/webrtc-adapter/dist/utils.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}},"./node_modules/webrtc-adapter/dist/safari/safari_shim.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.ZS=function shimGetUserMedia(window){var navigator=window&&window.navigator;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var mediaDevices=navigator.mediaDevices,_getUserMedia=mediaDevices.getUserMedia.bind(mediaDevices);navigator.mediaDevices.getUserMedia=function(constraints){return _getUserMedia(shimConstraints(constraints))}}!navigator.getUserMedia&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function getUserMedia(constraints,cb,errcb){navigator.mediaDevices.getUserMedia(constraints).then(cb,errcb)}.bind(navigator))};var utils=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/webrtc-adapter/dist/utils.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function shimConstraints(constraints){return constraints&&void 0!==constraints.video?Object.assign({},constraints,{video:utils.compactObject(constraints.video)}):constraints}},"./node_modules/webrtc-adapter/dist/utils.js":(__unused_webpack_module,exports)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compactObject=function compactObject(data){if(!isObject(data))return data;return Object.keys(data).reduce((function(accumulator,key){var isObj=isObject(data[key]),value=isObj?compactObject(data[key]):data[key],isEmptyObject=isObj&&!Object.keys(value).length;return void 0===value||isEmptyObject?accumulator:Object.assign(accumulator,function _defineProperty(obj,key,value){key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key),key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}({},key,value))}),{})},exports.deprecated=function deprecated(oldMethod,newMethod){if(!deprecationWarnings_)return;console.warn(oldMethod+" is deprecated, please use "+newMethod+" instead.")},exports.detectBrowser=function detectBrowser(window){var result={browser:null,version:null};if(void 0===window||!window.navigator||!window.navigator.userAgent)return result.browser="Not a browser.",result;var navigator=window.navigator;if(navigator.userAgentData&&navigator.userAgentData.brands){var chromium=navigator.userAgentData.brands.find((function(brand){return"Chromium"===brand.brand}));if(chromium)return{browser:"chrome",version:parseInt(chromium.version,10)}}if(navigator.mozGetUserMedia)result.browser="firefox",result.version=extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia||!1===window.isSecureContext&&window.webkitRTCPeerConnection)result.browser="chrome",result.version=extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!window.RTCPeerConnection||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return result.browser="Not a supported browser.",result;result.browser="safari",result.version=extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1),result.supportsUnifiedPlan=window.RTCRtpTransceiver&&"currentDirection"in window.RTCRtpTransceiver.prototype}return result},exports.disableLog=function disableLog(bool){if("boolean"!=typeof bool)return new Error("Argument type: "+_typeof(bool)+". Please use a boolean.");return logDisabled_=bool,bool?"adapter.js logging disabled":"adapter.js logging enabled"},exports.disableWarnings=function disableWarnings(bool){if("boolean"!=typeof bool)return new Error("Argument type: "+_typeof(bool)+". Please use a boolean.");return deprecationWarnings_=!bool,"adapter.js deprecation warnings "+(bool?"disabled":"enabled")},exports.extractVersion=extractVersion,exports.filterStats=function filterStats(result,track,outbound){var streamStatsType=outbound?"outbound-rtp":"inbound-rtp",filteredResult=new Map;if(null===track)return filteredResult;var trackStats=[];return result.forEach((function(value){"track"===value.type&&value.trackIdentifier===track.id&&trackStats.push(value)})),trackStats.forEach((function(trackStat){result.forEach((function(stats){stats.type===streamStatsType&&stats.trackId===trackStat.id&&walkStats(result,stats,filteredResult)}))})),filteredResult},exports.log=function log(){if("object"===("undefined"==typeof window?"undefined":_typeof(window))){if(logDisabled_)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},exports.walkStats=walkStats,exports.wrapPeerConnectionEvent=function wrapPeerConnectionEvent(window,eventNameToWrap,wrapper){if(!window.RTCPeerConnection)return;var proto=window.RTCPeerConnection.prototype,nativeAddEventListener=proto.addEventListener;proto.addEventListener=function(nativeEventName,cb){if(nativeEventName!==eventNameToWrap)return nativeAddEventListener.apply(this,arguments);var wrappedCallback=function wrappedCallback(e){var modifiedEvent=wrapper(e);modifiedEvent&&(cb.handleEvent?cb.handleEvent(modifiedEvent):cb(modifiedEvent))};return this._eventMap=this._eventMap||{},this._eventMap[eventNameToWrap]||(this._eventMap[eventNameToWrap]=new Map),this._eventMap[eventNameToWrap].set(cb,wrappedCallback),nativeAddEventListener.apply(this,[nativeEventName,wrappedCallback])};var nativeRemoveEventListener=proto.removeEventListener;proto.removeEventListener=function(nativeEventName,cb){if(nativeEventName!==eventNameToWrap||!this._eventMap||!this._eventMap[eventNameToWrap])return nativeRemoveEventListener.apply(this,arguments);if(!this._eventMap[eventNameToWrap].has(cb))return nativeRemoveEventListener.apply(this,arguments);var unwrappedCb=this._eventMap[eventNameToWrap].get(cb);return this._eventMap[eventNameToWrap].delete(cb),0===this._eventMap[eventNameToWrap].size&&delete this._eventMap[eventNameToWrap],0===Object.keys(this._eventMap).length&&delete this._eventMap,nativeRemoveEventListener.apply(this,[nativeEventName,unwrappedCb])},Object.defineProperty(proto,"on"+eventNameToWrap,{get:function get(){return this["_on"+eventNameToWrap]},set:function set(cb){this["_on"+eventNameToWrap]&&(this.removeEventListener(eventNameToWrap,this["_on"+eventNameToWrap]),delete this["_on"+eventNameToWrap]),cb&&this.addEventListener(eventNameToWrap,this["_on"+eventNameToWrap]=cb)},enumerable:!0,configurable:!0})};var logDisabled_=!0,deprecationWarnings_=!0;function extractVersion(uastring,expr,pos){var match=uastring.match(expr);return match&&match.length>=pos&&parseInt(match[pos],10)}function isObject(val){return"[object Object]"===Object.prototype.toString.call(val)}function walkStats(stats,base,resultSet){base&&!resultSet.has(base.id)&&(resultSet.set(base.id,base),Object.keys(base).forEach((function(name){name.endsWith("Id")?walkStats(stats,stats.get(base[name]),resultSet):name.endsWith("Ids")&&base[name].forEach((function(id){walkStats(stats,stats.get(id),resultSet)}))})))}}}]);